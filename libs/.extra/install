#!/bin/bash
set -e

if [[ -d "${installabs}/include/CPPExtensions" ]]; then
	(cd headers && .extra/rmdep)
fi

echo "making include directory"
mkdir -p -v "${installabs}/include/CPPExtensions/.part"
mkdir -p -v "${installabs}/include/CPPExtensions/.c_extern"
echo "installing header files"
cp --preserve=timestamps -u -t "${installabs}/include/CPPExtensions" headers/*$H_EXT
cp --preserve=timestamps -u -t "${installabs}/include/CPPExtensions/.part" headers/.part/*$H_EXT
cp --preserve=timestamps -u -t "${installabs}/include/CPPExtensions/.c_extern" headers/.c_extern/*.h
